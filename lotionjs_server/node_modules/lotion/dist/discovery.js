"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var createServer = require('peer-channel').createServer;
var serve = require('jpfs').serve;
function announce(GCI, rpcPort) {
    var server = createServer(function (socket) {
        socket.send('' + rpcPort);
        socket.end();
        socket.on('error', function (e) { });
    });
    server.listen('fullnode:' + GCI);
    return server;
}
function default_1(info) {
    var announceServer = announce(info.GCI, info.rpcPort);
    var genesisServer = serve(info.genesis);
    return {
        close: function () {
            announceServer.close();
            genesisServer.close();
        }
    };
}
exports.default = default_1;
